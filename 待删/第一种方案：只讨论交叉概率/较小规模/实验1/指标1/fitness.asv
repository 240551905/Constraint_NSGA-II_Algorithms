function F=fitness(X) 
Index=[3,7,9,12,14,16,19,22,25,29,32,36,39,44,46,50,53,57,59,62,66,71,74,78,83,88,90,92,95];
time=[4,8,9,1,9,11,8,4,0.000100000000000000,2,5,10,4,4,2,1,8,3,4,6,2,7,2,7,8,2,5,8,5,1,6,8,...
      6,10,7,0.000100000000000000,2,2,9,5,3,10,4,0.000100000000000000,8,10,7,9,4,4,10,5,11,8,...
      7,2,0.000100000000000000,5,7,5,3,10,7,1,7,4,6,10,5,10,7,1,10,8,11,3,2,10,8,2,9,9,10,8,2,...
      1,1,0.000100000000000000,3,10,6,7,9,2,4,0];
cost=[63;97;60;12;82;31;83;45;0;77;60;22;15;21;14;20;30;74;60;11;16;97;61;28;33;77;28;62;97;86;...
      32;54;66;85;24;0;16;54;65;61;39;99;62;0;60;77;70;34;16;43;67;29;78;16;33;82;0;68;57;93;34;...
      16;76;79;92;94;11;31;66;95;96;60;92;68;45;54;64;59;93;93;46;97;26;21;22;56;12;0;84;11;26;40;22;83;41;0];
D=[0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0;...
   0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,1,0,0,0;...
   0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,0,0,0;...
   0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,1,0,0,0,0,0,0;...
   0,0,0,0,0,0,0,0,1,1,0,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0;...
   0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,1,0,0,0,0,0;...
   0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0;...
   0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0;...
   0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0;...
   0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,1,0,1,0,0,0,0;...
   0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0;...
   0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0;...
   0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0;...
   0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0;...
   0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0;...
   0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,1,0;...
   0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,0,0;...
   0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0;...
   0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0;...
   0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0;...
   0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0;...
   0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0;...
   0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0;...
   0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0;...
   0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0;...
   0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0;...
   0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0;...
   0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1;...
   0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1];
Performance=[4.70053741166684;2.91007089973540;4.39415992205922;...4.22367222696111;4.52696159354325;2.29940132908403;2.73173408010187;3.99301795576020;0;2.45126761309964;2.99555153822939;0.0776663777541786;2.96740704098319;2.16838174494729;4.03680264442421;1.57622401547686;4.46444354262576;2.88928607642268;0.920051008137325;3.93964616912752;3.06015588522467;0.269546360368765;2.10096840000566;3.39534418282715;4.59300888988763;0.00201012445678717;4.88379574515530;1.88290157372887;4.86891769179161;3.02358050487027;4.14422903990347;2.87355752354051;3.14038099153675;1.42788140847847;2.93416670328041;0;4.29156918214521;3.77541094233840;3.49028624223652;4.32239715027300;1.61340498418373;3.35394395393794;2.25436968206675;0;2.05405674961093;2.00739791734770;1.58691972979138;3.10959683960151;2.15123635410632;4.86901038963626;3.38900445717156;0.992849442135554;2.13350504674016;1.71673119887212;3.98819401979283;4.39999144281716;0;3.31359906187631;1.35104131014879;1.26183350752295;4.27448971348701;2.63857323154373;4.01080542002299;2.86244258595803;3.66571262643756;2.59505813732028;3.85441955250944;2.84428995352358;2.32854939295990;1.71344453976641;0.341046742083521;1.88962089664050;0.398130388491262;4.91408556865223;0.908064256653819;4.05929348860270;4.37480822477949;3.44206626192972;2.84747206372688;0.804857184078044;2.33440011381653;1.72586025577608;1.12519978907042;2.96255934382898;1.56134918850958;4.58152776734175;4.54817762475779;0;0.554456503720146;0.964813660095564;2.49792085339443;3.64292833987298;1.04097219204396;1.24016779188615;4.25835937468183;0];
m=Index(end);
for i = 1:size(X,1)
    idx = floor(X(i,:));
x = zeros(1,m+1);
%temp = [0,5,8,12,14,16,20,24,27,30,34,37,41,45,49,53,58,62,65,70,74,76,80,84,88,92,96,98,103];
temp = [0,3,7,9,12,14,16,19,22,25,29,32,36,39,44,46,50,53,57,59,62,66,71,74,78,83,88,90,92];
 x(idx(idx>0)+temp) = 1;
     if (x(10)~=x(57))&&(x(10)==1)
        x(57)=1;
        x(54)=0;
        x(55)=0;
        x(56)=0;
    elseif (x(10)~=x(57))&&(x(57)==1)
        x(10)=1;
        x(11)=0;
        x(12)=0;
    end
    if (x(27)~=x(92))&&(x(27)==1)
        x(92)=1;
        x(91)=0;
    elseif (x(27)~=x(92))&&(x(92)==1)
        x(27)=1;
        x(26)=0;
        x(28)=0;
        x(29)=0;
    end
    if (x(25)~=x(35))&&(x(25)==1)
        x(35)=1;
        x(33)=0;
        x(34)=0;
        x(36)=0;
    elseif (x(25)~=x(35))&&(x(35)==1)
        x(25)=1;
        x(23)=0;
        x(24)=0;
    end
    if (x(18)~=x(74))&&(x(18)==1)
        x(74)=1;
        x(72)=0;
        x(73)=0;
    elseif (x(18)~=x(74))&&(x(74)==1)
        x(18)=1;
        x(17)=0;
        x(19)=0;
    end
    if (x(61)==x(70))&&(x(61)==1)
        x(70)=0;
        x(67)=round(rand(1));
        x(68)=1-x(67);
        x(69)=0;
        x(71)=0;
    elseif (x(61)==x(70))&&(x(61)==0)
        x(70)=1;
        x(67)=0;
        x(68)=0;
        x(69)=0;
        x(71)=0;
    end
    if (x(14)==x(21))&&(x(14)==1)
        x(21)=0;
        x(20)=round(rand(1));
        x(22)=1-x(20);
    elseif (x(14)==x(21))&&(x(14)==0)
        x(21)=1;
        x(20)=0;
        x(22)=0;
    end
    x(end)=1;
%cost=[20;60;90;12;6;50;46;60;120;25;12;5;88;74;160;9.7;32;68;91.5;82;192;120;457;330;10;32;95;0;34;22;9.3;13;6;8;0;70;96;82;94;12;63;60;190;120;250;0;10;60;0];
%time=[4,5,7,2,3,5,4,5,8,2,1,1,4,5,8,2,3,3,5,6,8,9,2,3,4,0.0001,1,1,2,2,2,2,0.0001,22,17,18,5,2,3,1,3,2,1,0.0001,2,7,0];
%The first function 
F(i,1)=x*cost;
%The second function
nu=size(D,2);
rr=x.*time;
CC=rr(rr~=0)';
pp=repmat(CC,1,nu);
C=pp.*D;
%C=timehandle(x,A,m);
n1=size(C,2);
ST=zeros(1,n1);
  for k=2:n1
      tt=0;
      for l=1:(k-1)
          if (C(l,k)>0)&&(C(l,k))~=0.0001
              tt=[tt,C(l,k)+ST(l)];
          elseif C(l,k)==0.0001
              C(l,k)=0;
              tt=[tt,C(l,k)+ST(l)];
          end
      end
      ST(k)=max(tt);
  end
  F(i,2)=ST(n1);
%The third function
%F(i,3)=-(x*Performance-26.5234)/(56.6129-26.5234);
F(i,3)=-x*Performance;
%F(i,3)=-(x*Performance);
end
